(this["webpackJsonpreact-burger-by-smirnov-andre"]=this["webpackJsonpreact-burger-by-smirnov-andre"]||[]).push([[0],{122:function(e,t,n){e.exports={item:"ConstructorItem_item__2vO7I",item_elem:"ConstructorItem_item_elem__2H1Av",drag_icon:"ConstructorItem_drag_icon__2yAMi"}},124:function(e,t,n){e.exports={container:"IngredientDetailsItem_container__CTYFC",details_list:"IngredientDetailsItem_details_list__3uz8G",details_list_item:"IngredientDetailsItem_details_list_item__3MJgp"}},125:function(e,t,n){e.exports={modal_overlay:"ModalOverlay_modal_overlay__2uEVZ"}},126:function(e,t,n){e.exports={icon_done:"OrderDetails_icon_done__2pZiG"}},127:function(e,t,n){e.exports={order_list:"Orders_order_list__YKgyF"}},128:function(e,t,n){},129:function(e,t,n){},130:function(e,t,n){},131:function(e,t,n){},132:function(e,t,n){},133:function(e,t,n){e.exports={wrapper:"OrdersFeed_wrapper__3OmOZ"}},146:function(e,t,n){},15:function(e,t,n){e.exports={content_wrapper:"OrdersFeed_content_wrapper__2ZjH0",header:"OrdersFeed_header__qIb7J",order_list:"OrdersFeed_order_list__2AAQG",info_wrapper:"OrdersFeed_info_wrapper__30mtD",info_table:"OrdersFeed_info_table__35tja",done:"OrdersFeed_done__2_Sx9",progress:"OrdersFeed_progress__19uS2",list:"OrdersFeed_list__3qawk",list_item:"OrdersFeed_list_item__17gYC",list_item_done:"OrdersFeed_list_item_done___EpfC",count:"OrdersFeed_count__12pYw"}},18:function(e,t,n){e.exports={container:"BurgerIngredients_container__Grtup",scroll_list:"BurgerIngredients_scroll_list__24p_y",header_tabs:"BurgerIngredients_header_tabs__3kjRv",tabs:"BurgerIngredients_tabs__6O6XR",sec_items:"BurgerIngredients_sec_items__1IOcv",items_list:"BurgerIngredients_items_list__2gWq9",item:"BurgerIngredients_item__3raBc",item_image:"BurgerIngredients_item_image__77xGC",item_description:"BurgerIngredients_item_description__3XxIn"}},22:function(e,t,n){e.exports={header:"OrdersCardDetails_header__28RlY",card_details_wrapper:"OrdersCardDetails_card_details_wrapper__3PyeN",order_id:"OrdersCardDetails_order_id__3ovaE",orders_item:"OrdersCardDetails_orders_item__5aA8J",order_info:"OrdersCardDetails_order_info__IyK9f",status:"OrdersCardDetails_status__11NDj",done:"OrdersCardDetails_done__TKuDZ",ingredients_cost:"OrdersCardDetails_ingredients_cost__-glD5",ingredients_list:"OrdersCardDetails_ingredients_list__36TLQ",ingredient_wrapper:"OrdersCardDetails_ingredient_wrapper__1ZDDb",img_wrapper:"OrdersCardDetails_img_wrapper__3pOPZ",img:"OrdersCardDetails_img__3egF8",name:"OrdersCardDetails_name__3zjdC",ingredient_cost:"OrdersCardDetails_ingredient_cost__3Xe-2",ingredients_footer:"OrdersCardDetails_ingredients_footer__3M4ig"}},222:function(e,t,n){"use strict";n.r(t);var a,r=n(1),c=n.n(r),i=n(43),s=n.n(i),o=n(7),l=n(51),d=n(37),u=n(120),_=n(2),j="GET_INGREDIENTS_REQUEST",m="GET_INGREDIENTS_SUCCESS",p="GET_INGREDIENTS_FAILED",b="GET_CONSTRUCTOR_INGREDIENT",O="ADD_CONSTRUCTOR_INGREDIENT",f="DELETE_CONSTRUCTOR_INGREDIENT",h="RESET_CONSTRUCTOR",x="SWAP_CONSTRUCTOR_INGREDIENT",g="SET_VIEW_ITEM",v="RESET_VIEW_ITEM",y="SET_VIEW_ORDER",N="RESET_VIEW_ORDER",E="GET_VIEW_ORDER_REQUEST",w="GET_VIEW_ORDER_SUCCESS",C="GET_VIEW_ORDER_FAILED",I="SET_VIEW_ORDER_ERROR",S="GET_ORDER_REQUEST",T="GET_ORDER_SUCCESS",k="GET_ORDER_FAILED",R="SET_ORDER_ERROR",D="GET_AUTH_REQUEST",F="GET_AUTH_SUCCESS",A="GET_AUTH_FAILED",P="SET_AUTH_ERROR",G="GET_REGISTER_REQUEST",L="GET_REGISTER_SUCCESS",M="GET_REGISTER_FAILED",z="SET_REGISTER_ERROR",U="GET_PROFILE_REQUEST",B="GET_PROFILE_SUCCESS",W="GET_PROFILE_FAILED",H="SET_PROFILE_ERROR",J="SET_PROFILE_CLEAR",Y="WS_CONNECTION_START",V="WS_CONNECTION_SUCCESS",X="WS_CONNECTION_ERROR",q="WS_CONNECTION_CLOSED",K="WS_GET_MESSAGE",Q="WS_CONNECTION_STOP",Z="WS_SIGN_CONNECTION_START",$="WS_SIGN_CONNECTION_SUCCESS",ee="WS_SIGN_CONNECTION_ERROR",te="WS_SIGN_CONNECTION_CLOSED",ne="WS_SIGN_GET_MESSAGE",ae="WS_SIGN_CONNECTION_STOP",re={data:[],isFetching:!1,fetchingFailed:!1,lastUpdated:null,error:null},ce=n(32),ie={data:[],sortedData:{bun:{},fillers:[],empty:{}},total:0,lastUpdated:null},se={data:{},numberOrd:0,isFetching:!1,fetchingFailed:!1,lastUpdated:null,error:null},oe={data:{},lastUpdated:null},le={user:{},isAuthorized:!1,isFetching:!1,fetchingFailed:!1,lastUpdated:null,error:null},de={wsConnected:!1,data:{},error:null,wsConnectionFailed:!1},ue={wsConnected:!1,data:{},error:null,wsConnectionFailed:!1},_e={data:{},isLoaded:!1,lastUpdated:null,isFetching:!1,fetchingFailed:!1,error:null},je=Object(d.b)({cart:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ie,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O:var n=Object(_.a)({},e.sortedData);return n="empty"===t.payload.type?Object(_.a)(Object(_.a)({},n),{},{empty:t.payload}):"bun"===t.payload.type?Object(_.a)(Object(_.a)({},n),{},{bun:t.payload}):Object(_.a)(Object(_.a)({},n),{},{fillers:[].concat(Object(ce.a)(n.fillers),[t.payload])}),Object(_.a)(Object(_.a)({},e),{},{data:[].concat(Object(ce.a)(e.data),[t.payload]),sortedData:n});case f:var a=Object(_.a)({},e.sortedData);return a.fillers=a.fillers.filter((function(e,n){return t.payload!==n})),Object(_.a)(Object(_.a)({},e),{},{sortedData:a});case x:var r=t.payload,c=r.dragIndex,i=r.hoverIndex,s=Object(_.a)({},e.sortedData);return s.fillers[c]=s.fillers.splice(i,1,s.fillers[c])[0],Object(_.a)(Object(_.a)({},e),{},{sortedData:s});case b:return Object(_.a)(Object(_.a)({},e),{},{data:[].concat(Object(ce.a)(e.data),Object(ce.a)(t.payload))});case h:return ie;default:return e}},ingredients:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:re,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case j:return Object(_.a)(Object(_.a)({},e),{},{isFetching:!0});case m:return Object(_.a)(Object(_.a)({},e),{},{fetchingFailed:!1,data:t.payload,isFetching:!1});case p:return Object(_.a)(Object(_.a)({},e),{},{fetchingFailed:!0,isFetching:!1});default:return e}},order:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:se,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case S:return Object(_.a)(Object(_.a)({},e),{},{numberOrd:0,fetchingFailed:!1,isFetching:!0});case T:return Object(_.a)(Object(_.a)({},e),{},{fetchingFailed:!1,data:t.payload,numberOrd:t.payload.number,isFetching:!1});case k:return Object(_.a)(Object(_.a)({},e),{},{fetchingFailed:!0,isFetching:!1});case R:return Object(_.a)(Object(_.a)({},e),{},{fetchingFailed:!0,error:t.payload});default:return e}},viewedItem:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:oe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g:return Object(_.a)(Object(_.a)({},e),{},{data:t.payload});case v:return Object(_.a)(Object(_.a)({},e),{},{data:oe.data});default:return e}},sign:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:le,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case D:return Object(_.a)(Object(_.a)({},e),{},{fetchingFailed:!1,isAuthorized:!1,isFetching:!0});case F:return Object(_.a)(Object(_.a)({},e),{},{fetchingFailed:!1,isAuthorized:!0,user:t.payload,isFetching:!1});case A:return Object(_.a)(Object(_.a)({},e),{},{fetchingFailed:!0,isAuthorized:!1,isFetching:!1});case P:return Object(_.a)(Object(_.a)({},e),{},{fetchingFailed:!0,error:t.payload});case G:return Object(_.a)(Object(_.a)({},e),{},{fetchingFailed:!1,isAuthorized:!1,isFetching:!0});case L:return Object(_.a)(Object(_.a)({},e),{},{fetchingFailed:!1,isAuthorized:!0,user:t.payload,isFetching:!1});case M:return Object(_.a)(Object(_.a)({},e),{},{fetchingFailed:!0,isAuthorized:!1,isFetching:!1});case z:return Object(_.a)(Object(_.a)({},e),{},{fetchingFailed:!0,error:t.payload});case U:return Object(_.a)(Object(_.a)({},e),{},{fetchingFailed:!1,isFetching:!0});case B:return Object(_.a)(Object(_.a)({},e),{},{fetchingFailed:!1,isAuthorized:!0,user:t.payload,isFetching:!1});case W:return Object(_.a)(Object(_.a)({},e),{},{fetchingFailed:!0,isAuthorized:!1,isFetching:!1});case H:return Object(_.a)({},e);case J:return Object(_.a)(Object(_.a)({},e),{},{user:le.user,isAuthorized:!1});default:return e}},wsAll:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:de,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case V:return Object(_.a)(Object(_.a)({},e),{},{wsConnected:!0,wsConnectionFailed:!1});case X:return Object(_.a)(Object(_.a)({},e),{},{error:t.payload,wsConnected:!1,wsConnectionFailed:!0});case q:return Object(_.a)(Object(_.a)({},e),{},{error:null,wsConnected:!1,wsConnectionFailed:!1});case K:return Object(_.a)(Object(_.a)({},e),{},{data:t.payload});default:return e}},wsSign:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ue,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case $:return Object(_.a)(Object(_.a)({},e),{},{wsConnected:!0,wsConnectionFailed:!1});case ee:return Object(_.a)(Object(_.a)({},e),{},{error:t.payload,wsConnected:!1,wsConnectionFailed:!0});case te:return Object(_.a)(Object(_.a)({},e),{},{error:null,wsConnected:!1,wsConnectionFailed:!1});case ne:return Object(_.a)(Object(_.a)({},e),{},{data:t.payload});default:return e}},viewedOrder:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_e,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case y:return Object(_.a)(Object(_.a)({},e),{},{data:t.payload,isLoaded:!0});case N:return Object(_.a)(Object(_.a)({},e),{},{data:_e.data});case E:return Object(_.a)(Object(_.a)({},e),{},{fetchingFailed:!1,isFetching:!0});case w:return Object(_.a)(Object(_.a)({},e),{},{fetchingFailed:!1,data:t.payload,isLoaded:!1,isFetching:!1});case C:return Object(_.a)(Object(_.a)({},e),{},{fetchingFailed:!0,isFetching:!1});case I:return Object(_.a)(Object(_.a)({},e),{},{fetchingFailed:!0,error:t.payload});default:return e}}}),me=function(e){return{type:O,payload:e}},pe=n(11),be=n.n(pe),Oe=n(27),fe="https://norma.nomoreparties.space/api";!function(e){e.ACCESS_TOKEN="accessToken",e.REFRESH_TOKEN="refreshToken"}(a||(a={}));var he,xe,ge,ve,ye="accessToken",Ne="refreshToken",Ee="\u041a\u0430\u043b\u043e\u0440\u0438\u0438, \u043a\u043a\u0430\u043b",we="\u0411\u0435\u043b\u043a\u0438, \u0433",Ce="\u0416\u0438\u0440\u044b, \u0433",Ie="\u0423\u0433\u043b\u0435\u0432\u043e\u0434\u044b, \u0433",Se="\u0412 \u044d\u0442\u043e\u043c \u0440\u0430\u0437\u0434\u0435\u043b\u0435 \u0432\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u0438\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0441\u0432\u043e\u0438 \u043f\u0435\u0440\u0441\u043e\u043d\u0430\u043b\u044c\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435",Te="\u0412 \u044d\u0442\u043e\u043c \u0440\u0430\u0437\u0434\u0435\u043b\u0435 \u0432\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c \u0441\u0432\u043e\u044e \u0438\u0441\u0442\u043e\u0440\u0438\u044e \u0437\u0430\u043a\u0430\u0437\u043e\u0432",ke={post:{"Content-Type":"application/json"},get:{}},Re=function(){var e=Object(Oe.a)(be.a.mark((function e(){return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(fe,"/ingredients"));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),De=function(){var e=Object(Oe.a)(be.a.mark((function e(t,n){return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(fe,"/orders"),{method:"POST",headers:Object(_.a)(Object(_.a)({},ke.post),{},{authorization:"Bearer ".concat(n)}),body:JSON.stringify({ingredients:t})});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Fe=function(){var e=Object(Oe.a)(be.a.mark((function e(t){return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(fe,"/auth/register"),{method:"POST",headers:ke.post,body:JSON.stringify(Object(_.a)({},t))});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ae=function(){var e=Object(Oe.a)(be.a.mark((function e(t){return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(fe,"/auth/login"),{method:"POST",headers:ke.post,body:JSON.stringify(Object(_.a)({},t))});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Pe=function(){var e=Object(Oe.a)(be.a.mark((function e(t){return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(fe,"/auth/logout"),{method:"POST",headers:ke.post,body:JSON.stringify({token:t})});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ge=function(){var e=Object(Oe.a)(be.a.mark((function e(t,n){return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(fe,"/auth/user"),{method:"PATCH",headers:Object(_.a)(Object(_.a)({},ke.post),{},{authorization:"Bearer ".concat(n)}),body:JSON.stringify(Object(_.a)({},t))});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Le=function(){var e=Object(Oe.a)(be.a.mark((function e(t){return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(fe,"/auth/user"),{method:"GET",headers:Object(_.a)(Object(_.a)({},ke.get),{},{authorization:"Bearer ".concat(t)})});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Me=function(){var e=Object(Oe.a)(be.a.mark((function e(t){return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(fe,"/password-reset"),{method:"POST",headers:Object(_.a)({},ke.post),body:JSON.stringify(Object(_.a)({},t))});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ze=function(){var e=Object(Oe.a)(be.a.mark((function e(t){return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(fe,"/password-reset/reset"),{method:"POST",headers:Object(_.a)({},ke.post),body:JSON.stringify(Object(_.a)({},t))});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ue=function(){var e=Object(Oe.a)(be.a.mark((function e(t){return be.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(fe,"/orders/").concat(t),{method:"GET",headers:Object(_.a)({},ke.get)});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Be=[{_id:"60666c42cc7b410027a1a9b2",name:"\u0421\u043e\u0431\u0435\u0440\u0438 \u0437\u0434\u0435\u0441\u044c \u0441\u0432\u043e\u0439 \u0431\u0443\u0440\u0433\u0435\u0440",type:"empty",proteins:0,fat:0,carbohydrates:0,calories:0,price:0,image:"https://raw.githubusercontent.com/AndreSmrnv/YaP_react-burger/sprint-4/step-1/src/images/icon-burger.svg",image_mobile:"https://raw.githubusercontent.com/AndreSmrnv/YaP_react-burger/sprint-4/step-1/src/images/icon-burger.svg",image_large:"https://raw.githubusercontent.com/AndreSmrnv/YaP_react-burger/sprint-4/step-1/src/images/icon-burger.svg",__v:0}],We=function(){return function(e){e({type:j}),Re().then((function(e){return e.ok?e.json():Promise.reject("api err: ".concat(e.status))})).then((function(t){var n;e((n=t.data,{type:m,payload:n})),e(me(Be.find((function(e){return"empty"===e.type}))))})).catch((function(t){console.log(t),e({type:p})}))}},He=n(69),Je=n.n(He),Ye=function(e){var t=e.accessToken,n=e.refreshToken,a=(new Date((new Date).getTime()+12e5),t.includes("Bearer")?t.split(" ")[1]:t);Je.a.set(ye,a),localStorage.setItem(Ne,n)},Ve=function(){return Je.a.get(ye)},Xe=function(e){return function(t){t({type:S});var n=Ve();De(e,n).then((function(e){return e.ok?e.json():Promise.reject("api err: ".concat(e.status))})).then((function(e){t(function(e){return{type:T,payload:e}}(e.order)),t({type:h}),t(me(Be.find((function(e){return"empty"===e.type}))))})).catch((function(e){t({type:k})}))}},qe=function(){return{type:D}},Ke=function(){return{type:A}},Qe=function(){return{type:U}},Ze=function(e){return{type:B,payload:e}},$e=function(){return{type:W}},et=function(e){return function(t){t({type:G}),Fe(e).then((function(e){return e.ok?e.json():Promise.reject("api err: ".concat(e.status))})).then((function(e){console.log(e),Ye({accessToken:e.accessToken,refreshToken:e.refreshToken}),t(function(e){return{type:L,payload:e}}(e.user))})).catch((function(e){console.log(e),t({type:M})}))}},tt=function(e){return function(t){t(qe()),Ae(e).then((function(e){return e.ok?e.json():Promise.reject("api err: ".concat(e.status))})).then((function(e){Ye({accessToken:e.accessToken,refreshToken:e.refreshToken}),t(function(e){return{type:F,payload:e}}(e.user))})).catch((function(e){console.log(e),t(Ke())}))}},nt=function(e){return function(t){t(qe()),Pe(e).then((function(e){return e.ok?e.json():Promise.reject("api err: ".concat(e.status))})).then((function(e){Je.a.remove(ye),localStorage.removeItem(Ne),t({type:J})})).catch((function(e){console.log(e),t(Ke())}))}},at=function(){return function(e){e(Qe());var t=Ve();Le(t).then((function(e){return e.json()})).then((function(t){if(!t.success)throw t;e(Ze(t.user))})).catch((function(t){t.message,e($e())}))}},rt=function(e){return{type:y,payload:e}},ct=function(e){return function(t){t({type:E}),Ue(e).then((function(e){return e.json()})).then((function(e){if(!e.success)throw e;var n;t((n=e.orders[0],{type:w,payload:n}))})).catch((function(e){t({type:C})}))}},it=("object"===typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({}):d.c)(Object(d.a)(u.a,(he="wss://norma.nomoreparties.space/orders/all",function(e){var t=null;return function(n){return function(a){var r=e.dispatch,c=a.type,i=a.payload;c===Y&&(t=new WebSocket(he)),c===Q&&t.close(1e3,"Page closed by user"),t&&(t.onopen=function(e){r({type:V,payload:e})},t.onerror=function(e){r({type:X,payload:e})},t.onmessage=function(e){var n=e.data;(null===n||void 0===n?void 0:n.includes("ping"))&&t.send("pong");var a=JSON.parse(n),c=a.success,i=a.message,s=a.orders,o=a.total,l=a.totalToday;c?r({type:K,payload:{orders:s,total:o,totalToday:l}}):i&&r({type:X,payload:i})},t.onclose=function(e){r({type:q,payload:e})},"WS_SEND_MESSAGE"===c&&t.send(JSON.stringify(i))),n(a)}}}),function(e){return function(t){var n=null;return function(a){return function(r){var c=t.dispatch,i=r.type,s=r.payload,o=Ve();i===Z&&(n=new WebSocket("".concat(e,"?token=").concat(o))),i===ae&&n.close(1e3,"Page closed by user"),n&&(n.onopen=function(e){c({type:$,payload:e})},n.onerror=function(e){c({type:ee,payload:e})},n.onmessage=function(e){var t=e.data;(null===t||void 0===t?void 0:t.includes("ping"))&&n.send("pong");var a=JSON.parse(t),r=a.success,i=a.message,s=a.orders,o=a.total,l=a.totalToday;r?c({type:ne,payload:{orders:s,total:o,totalToday:l}}):i&&c({type:ee,payload:i})},n.onclose=function(e){c({type:te,payload:e})},"WS_SIGN_SEND_MESSAGE"===i&&n.send(JSON.stringify(s))),a(r)}}}}("wss://norma.nomoreparties.space/orders"))),st=Object(d.d)(je,it),ot=(n(146),function(){return Object(l.b)()}),lt=l.c,dt=n(12),ut=n(52),_t=n.n(ut),jt=n(5);!function(e){e.typeBun="bun",e.typeSauce="sauce",e.typeMain="main",e.typeEmpty="empty"}(xe||(xe={})),function(e){e.done="\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d",e.pending="\u0413\u043e\u0442\u043e\u0432\u0438\u0442\u044c\u0441\u044f",e.created="\u0421\u043e\u0437\u0434\u0430\u043d",e.cancel="\u041e\u0442\u043c\u0435\u043d\u0435\u043d"}(ge||(ge={})),function(e){e.burgerIcon="burgerIcon",e.listIcon="listIcon",e.profileIcon="profileIcon"}(ve||(ve={}));var mt={left:[{id:"1",name:"\u041a\u043e\u043d\u0441\u0442\u0440\u0443\u043a\u0442\u043e\u0440",href:"/",icon:ve.burgerIcon,exact:!0},{id:"2",name:"\u041b\u0435\u043d\u0442\u0430 \u0437\u0430\u043a\u0430\u0437\u043e\u0432",href:"/feed",icon:ve.listIcon,exact:!1}],right:[{id:"1",name:"\u041b\u0438\u0447\u043d\u044b\u0439 \u043a\u0430\u0431\u0438\u043d\u0435\u0442",href:"/profile",icon:ve.profileIcon,exact:!1}]},pt=n(89),bt=n.n(pt),Ot=n(0),ft={burgerIcon:jt.BurgerIcon,listIcon:jt.ListIcon,profileIcon:jt.ProfileIcon},ht=function(e){var t=e.item,n=lt((function(e){return e.sign})),a=n.isAuthorized,r=n.user,c=(n.lastUpdated,n.isFetching,ft[t.icon]);return Object(Ot.jsx)("li",{children:Object(Ot.jsxs)(o.c,{to:t.href,className:"".concat(bt.a.menu_link," pr-5 pl-5"),activeClassName:bt.a.menu_link_active,exact:t.exact,children:[Object(Ot.jsx)(c,{type:"secondary"}),Object(Ot.jsx)("span",{className:"text text_type_main-default pl-2",children:a&&t.icon===ve.profileIcon?r.email:t.name})]})})},xt=function(){return Object(Ot.jsxs)("div",{className:"".concat(_t.a.container," pt-4 pb-4 p"),children:[Object(Ot.jsx)("nav",{children:Object(Ot.jsx)("ul",{className:_t.a.menu,children:mt.left.map((function(e){return Object(Ot.jsx)(ht,{item:e},e.id)}))})}),Object(Ot.jsx)(o.c,{to:"/",title:"Stellar burgers",className:_t.a.logo,children:Object(Ot.jsx)(jt.Logo,{})}),Object(Ot.jsx)("nav",{children:Object(Ot.jsx)("ul",{className:_t.a.menu_right,children:mt.right.map((function(e){return Object(Ot.jsx)(ht,{item:e},e.id)}))})})]})},gt=n(8),vt=n(231),yt=n(122),Nt=n.n(yt),Et=function(e){var t=e.itemData,n=e.type,a=e.isLocked;return Object(Ot.jsx)("li",{className:"".concat(Nt.a.item," mb-4 pl-8 pr-4'}"),children:Object(Ot.jsx)(jt.ConstructorElement,{text:"".concat(t.name," ").concat("top"===n?"(\u0432\u0435\u0440\u0445)":""," ").concat("bottom"===n?"(\u043d\u0438\u0437)":""," "),thumbnail:t.image_mobile,price:t.price,type:n,isLocked:a})})},wt=n(232),Ct="fillers",It=n(91),St=n.n(It),Tt={cursor:"move"},kt=function(e){var t=e.itemData,n=e.index,a=e.isLocked,c=e.type,i=e.moveElem,s=e.id,o=ot(),l=Object(r.useRef)(null),d=Object(vt.a)({accept:Ct,collect:function(e){return{handlerId:e.getHandlerId()}},hover:function(e,t){var a;if(l.current){var r=e.index,c=n;if(r!==c){var s=null===(a=l.current)||void 0===a?void 0:a.getBoundingClientRect(),o=(s.bottom-s.top)/2,d=t.getClientOffset().y-s.top;r<c&&d<o||r>c&&d>o||(i(r,c),e.index=c)}}}}),u=Object(gt.a)(d,2),j=u[0].handlerId,m=u[1],p=Object(wt.a)({type:Ct,item:function(){return{id:s,index:n}},collect:function(e){return{isDragging:e.isDragging()}}}),b=Object(gt.a)(p,2);b[0].isDragging;return(0,b[1])(m(l)),Object(Ot.jsxs)("li",{className:"".concat(St.a.item," pb-4 ").concat(a?"pl-8 pr-4":"pr-2"),ref:l,style:Object(_.a)(Object(_.a)({},Tt),{},{opacity:1}),"data-handler-id":j,children:[!a&&Object(Ot.jsx)("span",{className:St.a.drag_icon,children:Object(Ot.jsx)(jt.DragIcon,{type:"secondary"})}),Object(Ot.jsx)(jt.ConstructorElement,{text:"".concat(t.name," ").concat("top"===c?"(\u0432\u0435\u0440\u0445)":""," ").concat("bottom"===c?"(\u043d\u0438\u0437)":""," "),thumbnail:t.image_mobile,price:t.price,isLocked:a,type:c,handleClose:function(){return o({type:f,payload:n})}})]})},Rt=n(53),Dt=n.n(Rt),Ft=function(e){var t=e.openModal,n=ot(),a=lt((function(e){return e.cart})),r=Object(ce.a)(a.data),i=Object(vt.a)({accept:"ingredient",drop:function(e){return n(me(e))}}),s=Object(gt.a)(i,2)[1],o=a.sortedData.bun&&Object.keys(a.sortedData.bun).length?[a.sortedData.bun]:[a.sortedData.empty],l=r&&Array.isArray(r)&&a.sortedData.fillers,d=c.a.useMemo((function(){return Array.isArray(r)&&[].concat(o,Object(ce.a)(l),o).reduce((function(e,t){return e+t.price}),0)}),[o,l]),u=function(e,t){return n(function(e,t){return{type:x,payload:{dragIndex:e,hoverIndex:t}}}(e,t))};return Object(Ot.jsxs)("section",{className:"".concat(Dt.a.container," pt-25"),ref:s,children:[Object(Ot.jsxs)("ul",{className:Dt.a.item_list,children:[o&&Array.isArray(o)&&o.map((function(e){return Object(Ot.jsx)(Et,{itemData:e,type:"top",isLocked:!0},e._id)})),Object(Ot.jsx)("li",{className:"mb-4",children:Object(Ot.jsx)("ul",{className:Dt.a.scroll_list,children:l&&Array.isArray(l)&&l.map((function(e,t){return Object(Ot.jsx)(kt,{itemData:e,handlerId:t,moveElem:u,index:t,id:e._id},t)}))})},"middle"),o&&Array.isArray(o)&&o.map((function(e){return Object(Ot.jsx)(Et,{itemData:e,type:"bottom",isLocked:!0},e._id)}))]}),Object(Ot.jsxs)("div",{className:"".concat(Dt.a.checkout_container," pr-8"),children:[Object(Ot.jsxs)("div",{className:"mr-10",children:[Object(Ot.jsx)("span",{className:"text text_type_digits-medium mr-2",children:d}),Object(Ot.jsx)(jt.CurrencyIcon,{type:"primary"})]}),Object(Ot.jsx)(jt.Button,{type:"primary",size:"large",onClick:t,children:"\u041e\u0444\u043e\u0440\u043c\u0438\u0442\u044c \u0437\u0430\u043a\u0430\u0437"})]})]})},At=n(70),Pt=n(54),Gt=n.n(Pt),Lt={cursor:"move"},Mt=function(e){var t=e.itemData,n=e.itemCounter,a=e.onItemClick,r=(ot(),Object(dt.g)()),c=Object(wt.a)({type:"ingredient",item:t,collect:function(e){return{isDragging:e.isDragging()}}}),i=Object(gt.a)(c,2),s=i[0].isDragging,o=i[1];var l=s?.2:1;return Object(Ot.jsxs)("li",{className:Gt.a.item,onClick:function(){a(),r.replace("/ingredients/".concat(t._id),{background:!0})},ref:o,style:Object(_.a)(Object(_.a)({},Lt),{},{opacity:l}),children:[n&&n>0?Object(Ot.jsx)(jt.Counter,{count:n,size:"default"}):null,Object(Ot.jsx)("img",{src:t.image,className:"".concat(Gt.a.item_image),alt:t.name}),Object(Ot.jsxs)("p",{className:"text text_type_digits-default ".concat(Gt.a.item_description," mt-1 mb-1"),children:[Object(Ot.jsx)("span",{className:"mr-2",children:t.price}),Object(Ot.jsx)(jt.CurrencyIcon,{type:"secondary"})]}),Object(Ot.jsx)("h3",{className:"text text_type_main-default ".concat(Gt.a.item_name),children:t.name})]})},zt=n(18),Ut=n.n(zt),Bt=function(e){var t=e.openModal,n=Object(r.useState)("buns"),a=Object(gt.a)(n,2),c=a[0],i=a[1],s=lt((function(e){return{cart:e.cart,ingredients:e.ingredients}})),o=s.cart,l=s.ingredients,d=Object(ce.a)(l.data),u=Object(At.a)({threshold:0}),_=Object(gt.a)(u,2),j=_[0],m=_[1],p=Object(At.a)({threshold:0}),b=Object(gt.a)(p,2),O=b[0],f=b[1],h=Object(At.a)({threshold:0}),x=Object(gt.a)(h,2),g=x[0],v=x[1];Object(r.useEffect)((function(){m?i("buns"):v?i("sauces"):f&&i("mains")}),[m,f,v]);var y=function(e){i(e);var t=document.getElementById(e);t&&t.scrollIntoView({behavior:"smooth"})},N=d&&Array.isArray(d)&&d.filter((function(e){return e.type===xe.typeBun})),E=d&&Array.isArray(d)&&d.filter((function(e){return e.type===xe.typeSauce})),w=d&&Array.isArray(d)&&d.filter((function(e){return e.type===xe.typeMain})),C=function(e){var t;return o.sortedData&&(null===(t=o.sortedData.fillers)||void 0===t?void 0:t.filter((function(t){return t._id===e})).length)},I=function(e){var t;return o.sortedData&&(null===(t=o.sortedData.bun)||void 0===t?void 0:t._id)===e};return Object(Ot.jsxs)("section",{className:"".concat(Ut.a.container),children:[Object(Ot.jsxs)("div",{className:Ut.a.header_tabs,children:[Object(Ot.jsx)("h2",{className:"text text_type_main-large mt-10 mb-5 ",children:"\u0421\u043e\u0431\u0435\u0440\u0438\u0442\u0435 \u0431\u0443\u0440\u0433\u0435\u0440"}),Object(Ot.jsxs)("div",{className:"".concat(Ut.a.tabs),children:[Object(Ot.jsx)(jt.Tab,{value:"buns",active:"buns"===c,onClick:y,children:"\u0411\u0443\u043b\u043a\u0438"}),Object(Ot.jsx)(jt.Tab,{value:"sauces",active:"sauces"===c,onClick:y,children:"\u0421\u043e\u0443\u0441\u044b"}),Object(Ot.jsx)(jt.Tab,{value:"mains",active:"mains"===c,onClick:y,children:"\u041d\u0430\u0447\u0438\u043d\u043a\u0438"})]})]}),Object(Ot.jsxs)("div",{className:"".concat(Ut.a.scroll_list," pr-4"),children:[Object(Ot.jsxs)("section",{className:Ut.a.sec_items,id:"buns",ref:j,children:[Object(Ot.jsx)("h2",{className:"text text_type_main-medium ".concat(Ut.a.sec_title),children:"\u0411\u0443\u043b\u043a\u0438"}),Object(Ot.jsx)("ul",{className:"".concat(Ut.a.items_list),children:N&&Array.isArray(N)&&N.map((function(e){return Object(Ot.jsx)(Mt,{itemData:e,onItemClick:t,itemCounter:I(e._id)?1:0},e._id)}))})]}),Object(Ot.jsxs)("section",{className:Ut.a.sec_items,id:"sauces",ref:g,children:[Object(Ot.jsx)("h2",{className:"text text_type_main-medium ".concat(Ut.a.sec_title),children:"\u0421\u043e\u0443\u0441\u044b"}),Object(Ot.jsx)("ul",{className:"".concat(Ut.a.items_list),children:E&&Array.isArray(E)&&E.map((function(e){return Object(Ot.jsx)(Mt,{itemData:e,onItemClick:t,itemCounter:C(e._id)},e._id)}))})]}),Object(Ot.jsxs)("section",{className:Ut.a.sec_items,id:"mains",ref:O,children:[Object(Ot.jsx)("h2",{className:"text text_type_main-medium ".concat(Ut.a.sec_title),children:"\u041d\u0430\u0447\u0438\u043d\u043a\u0438"}),Object(Ot.jsx)("ul",{className:"".concat(Ut.a.items_list),children:w&&Array.isArray(w)&&w.map((function(e){return Object(Ot.jsx)(Mt,{itemData:e,onItemClick:t,itemCounter:C(e._id)},e._id)}))})]})]})]})},Wt=n(124),Ht=n.n(Wt),Jt=function(e){var t=e.title,n=e.value;return Object(Ot.jsxs)("li",{className:Ht.a.details_list_item,children:[Object(Ot.jsx)("p",{className:"text text_type_main-default text_color_inactive",children:t}),Object(Ot.jsx)("p",{className:"text text_type_digits-default text_color_inactive",children:n})]})},Yt=n(93),Vt=n.n(Yt),Xt=function(){var e=Object(dt.i)().id,t=ot(),n=lt((function(e){return e.ingredients}));Object(r.useEffect)((function(){var a,r=null===(a=n.data)||void 0===a?void 0:a.find((function(t){return t._id==e}));r&&t({type:g,payload:r})}),[e,n.data]);var a=lt((function(e){return e.viewedItem.data}));return a._id?Object(Ot.jsxs)("div",{className:Vt.a.container,children:[Object(Ot.jsx)("img",{src:a.image_large,alt:a.name,title:a.name}),Object(Ot.jsx)("h4",{className:"text text_type_main-medium mt-4 mb-8",children:a.name}),Object(Ot.jsxs)("ul",{className:"".concat(Vt.a.details_list," mb-15"),children:[Object(Ot.jsx)(Jt,{title:Ee,value:a.calories}),Object(Ot.jsx)(Jt,{title:we,value:a.proteins}),Object(Ot.jsx)(Jt,{title:Ce,value:a.fat}),Object(Ot.jsx)(Jt,{title:Ie,value:a.carbohydrates})]})]}):Object(Ot.jsx)("h4",{className:"text text_type_main-medium mt-4 mb-8",children:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0434\u0430\u043d\u043d\u044b\u0445..."})},qt=n(94),Kt=n.n(qt),Qt=n(125),Zt=n.n(Qt),$t=function(e){var t=e.closeModal;return Object(Ot.jsx)("div",{className:Zt.a.modal_overlay,onClick:t})},en=function(e){var t=e.children,n=e.closeModal,a=e.modalTitle,c=function(e){"Escape"===e.key&&n(),e.stopImmediatePropagation()};Object(r.useEffect)((function(){return document.addEventListener("keydown",c),function(){document.removeEventListener("keydown",c)}}),[]);var i=document.querySelector("#app-modals");return s.a.createPortal(Object(Ot.jsxs)(Ot.Fragment,{children:[Object(Ot.jsx)($t,{closeModal:n}),Object(Ot.jsxs)("section",{className:Kt.a.modal,children:[Object(Ot.jsxs)("div",{className:"".concat(Kt.a.header," pr-10 pt-10 pl-10"),children:[Object(Ot.jsx)("h2",{className:"text text_type_main-large ",children:a}),Object(Ot.jsx)(jt.CloseIcon,{type:"primary",onClick:n})]}),t]})]}),i)},tn=n.p+"static/media/spin-white.e284a982.svg",nn=n.p+"static/media/order-done.05f77629.svg",an=n(230),rn=n(233);function cn(e){var t=864e5,n=Date.now()-e.getTime();return n<t&&n>0?"C\u0435\u0433\u043e\u0434\u043d\u044f":n<2*t?"\u0412\u0447\u0435\u0440\u0430":Object(an.a)(e,{locale:rn.a,addSuffix:!0})}function sn(e,t){return e.toString().padStart(t,"0")}var on=n(126),ln=n.n(on),dn=function(){var e=lt((function(e){return e.order}));return Object(Ot.jsxs)(Ot.Fragment,{children:[Object(Ot.jsx)("h1",{className:"text text_type_digits-large mt-30",children:sn(e.numberOrd,7)}),Object(Ot.jsx)("p",{className:"text text_type_main-medium mt-8",children:"\u0438\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0440 \u0437\u0430\u043a\u0430\u0437\u0430"}),Object(Ot.jsx)("img",{className:"mt-15 ".concat(ln.a.icon_done),src:e.isFetching?tn:nn,alt:"\u0417\u0430\u043a\u0430\u0437 \u0433\u043e\u0442\u043e\u0432\u0438\u0442\u0441\u044f"}),Object(Ot.jsx)("p",{className:"text text_type_main-default mt-15",children:"\u0412\u0430\u0448 \u0437\u0430\u043a\u0430\u0437 \u043d\u0430\u0447\u0430\u043b\u0438 \u0433\u043e\u0442\u043e\u0432\u0438\u0442\u044c"}),Object(Ot.jsx)("p",{className:"text text_type_main-default text_color_inactive mt-2 mb-30",children:"\u0414\u043e\u0436\u0434\u0438\u0442\u0435\u0441\u044c \u0433\u043e\u0442\u043e\u0432\u043d\u043e\u0441\u0442\u0438 \u043d\u0430 \u043e\u0440\u0431\u0438\u0442\u0430\u043b\u044c\u043d\u043e\u0439 \u0441\u0442\u0430\u043d\u0446\u0438\u0438"})]})},un=n.p+"static/media/icon-info.0c317422.svg",_n=function(){var e=lt((function(e){return e.order}));return Object(Ot.jsxs)(Ot.Fragment,{children:[Object(Ot.jsx)("h1",{className:"text text_type_digits-large mt-30",children:sn(0,7)}),Object(Ot.jsx)("p",{className:"text text_type_main-medium mt-8",children:"\u0447\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a"}),Object(Ot.jsx)("p",{className:"text text_type_main-medium mt-8",children:e.error}),Object(Ot.jsx)("img",{className:"mt-15",src:un,alt:"\u0417\u0430\u043a\u0430\u0437 \u043d\u0435 \u0433\u043e\u0442\u043e\u0432\u0438\u0442\u0441\u044f"}),Object(Ot.jsx)("p",{className:"text text_type_main-default mt-15",children:"\u041c\u044b \u043d\u0435 \u043c\u043e\u0436\u0435\u043c \u043f\u0440\u0438\u0433\u043e\u0442\u043e\u0432\u0438\u0442\u044c \u043f\u0443\u0441\u0442\u043e\u0439 \u0437\u0430\u043a\u0430\u0437"}),Object(Ot.jsx)("p",{className:"text text_type_main-default text_color_inactive mt-2 mb-30",children:"\u0421\u043e\u0431\u0435\u0440\u0438\u0442\u0435 \u0431\u0443\u0440\u0433\u0435\u0440 \u0438 \u043c\u044b \u0435\u0433\u043e \u0432\u0430\u043c \u043f\u0440\u0438\u0433\u043e\u0442\u043e\u0432\u0438\u043c"})]})},jn=n(23),mn=n(28),pn=n.n(mn),bn={email:"",password:""},On={name:"",email:"",password:""},fn={password:"",token:""},hn={email:""},xn={name:"",email:"",password:""},gn=function(){var e=ot(),t=Object(r.useState)(bn),n=Object(gt.a)(t,2),a=n[0],c=n[1],i=function(e){var t=e.target,n=t.name,a="checkbox"===t.type?e.target.checked:e.target.value;c((function(e){return Object(_.a)(Object(_.a)({},e),{},Object(jn.a)({},n,a))}))},s=function(){c(bn)};return Object(Ot.jsxs)("div",{className:pn.a.login,children:[Object(Ot.jsx)("h3",{className:"".concat(pn.a.title," text text_type_main-medium"),children:"\u0412\u0445\u043e\u0434"}),Object(Ot.jsx)("form",{className:pn.a.form,onSubmit:function(t){e(tt(a)),t.preventDefault(),s()},children:Object(Ot.jsxs)("div",{className:pn.a.input_container,children:[Object(Ot.jsx)(jt.Input,{onChange:i,value:a.email,name:"email",size:"default",placeholder:"E-mail"}),Object(Ot.jsx)(jt.PasswordInput,{onChange:i,value:a.password,name:"password",size:"default"}),Object(Ot.jsx)("div",{className:pn.a.button_container,children:Object(Ot.jsx)(jt.Button,{type:"primary",size:"medium",children:"\u0412\u043e\u0439\u0442\u0438"})})]})}),Object(Ot.jsxs)("div",{className:pn.a.link_container,children:[Object(Ot.jsx)("p",{className:"".concat(pn.a.text," text text_type_main-default text_color_inactive"),children:"\u0412\u044b \u2014 \u043d\u043e\u0432\u044b\u0439 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c?"}),Object(Ot.jsx)(o.b,{to:"/register",className:"".concat(pn.a.link," text text_type_main-default"),children:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"})]}),Object(Ot.jsxs)("div",{className:pn.a.link_container,children:[Object(Ot.jsx)("p",{className:"".concat(pn.a.text," text text_type_main-default text_color_inactive"),children:"\u0417\u0430\u0431\u044b\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c?"}),Object(Ot.jsx)(o.b,{to:"/forgot-password",className:"".concat(pn.a.link," text text_type_main-default"),children:"\u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u043f\u0430\u0440\u043e\u043b\u044c"})]})]})},vn=n(33),yn=n.n(vn),Nn=function(){var e=ot(),t=Object(r.useState)(On),n=Object(gt.a)(t,2),a=n[0],c=n[1],i=function(e){var t=e.target,n=t.name,a="checkbox"===t.type?e.target.checked:e.target.value;c((function(e){return Object(_.a)(Object(_.a)({},e),{},Object(jn.a)({},n,a))}))},s=function(){c(On)};return Object(Ot.jsxs)("div",{className:yn.a.login,children:[Object(Ot.jsx)("h3",{className:"".concat(yn.a.title," text text_type_main-medium"),children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"}),Object(Ot.jsx)("form",{className:yn.a.form,onSubmit:function(t){console.log("onSubmit Register"),e(et(a)),console.log(a),t.preventDefault(),s()},children:Object(Ot.jsxs)("div",{className:yn.a.input_container,children:[Object(Ot.jsx)(jt.Input,{onChange:i,value:a.name,name:"name",size:"default",placeholder:"\u0418\u043c\u044f"}),Object(Ot.jsx)(jt.Input,{onChange:i,value:a.email,name:"email",size:"default",placeholder:"E-mail"}),Object(Ot.jsx)(jt.PasswordInput,{onChange:i,value:a.password,name:"password",size:"default"}),Object(Ot.jsx)("div",{className:yn.a.button_container,children:Object(Ot.jsx)(jt.Button,{type:"primary",size:"medium",children:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"})})]})}),Object(Ot.jsxs)("div",{className:yn.a.link_container,children:[Object(Ot.jsx)("p",{className:"".concat(yn.a.text," text text_type_main-default text_color_inactive"),children:"\u0423\u0436\u0435 \u0437\u0430\u0440\u0435\u0433\u0438\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u044b?"}),Object(Ot.jsx)(o.b,{to:"/login",className:"".concat(yn.a.link," text text_type_main-default"),children:"\u0412\u043e\u0439\u0442\u0438"})]})]})},En=n(95),wn=n.n(En),Cn=function(){var e=ot(),t=Object(r.useState)(xn),n=Object(gt.a)(t,2),a=n[0],c=n[1],i=lt((function(e){return e.sign})),s=i.isAuthorized,o=i.user,l=i.lastUpdated,d=i.isFetching;Object(r.useEffect)((function(){c((function(e){return Object(_.a)(Object(_.a)({},e),o)}))}),[s,l]);var u=function(e){var t=e.target,n=t.name,a="checkbox"===t.type?e.target.checked:e.target.value;c((function(e){return Object(_.a)(Object(_.a)({},e),{},Object(jn.a)({},n,a))}))};return Object(Ot.jsxs)("form",{className:wn.a.form,onSubmit:function(t){var n;console.log("onSubmit Profile"),console.log(a),e((n=a,function(e){e(Qe());var t=Ve();Ge(n,t).then((function(e){return e.ok?e.json():Promise.reject("api err: ".concat(e.status))})).then((function(t){if(console.log(t),!t.success)throw t;e(Ze(t.user))})).catch((function(t){console.log(t),t.message,e($e())}))})),t.preventDefault()},children:[Object(Ot.jsx)(jt.Input,{type:"text",placeholder:"\u0418\u043c\u044f",onChange:u,value:a.name,icon:"EditIcon",name:"name",size:"default"}),Object(Ot.jsx)(jt.EmailInput,{onChange:u,value:a.email,name:"email"}),Object(Ot.jsx)(jt.PasswordInput,{onChange:u,value:a.password,name:"password"}),Object(Ot.jsx)("div",{className:wn.a.button_container,children:Object(Ot.jsx)(jt.Button,{type:"primary",size:"medium",children:d?"\u0418\u0434\u0435\u0442 \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u0435":"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})})]})},In=n(34),Sn=n.n(In),Tn=function(){var e=ot(),t=Object(dt.g)(),n=Object(r.useState)(hn),a=Object(gt.a)(n,2),c=a[0],i=a[1],s=function(){i(hn)};return Object(Ot.jsxs)("div",{className:Sn.a.login,children:[Object(Ot.jsx)("h3",{className:"".concat(Sn.a.title," text text_type_main-medium"),children:"\u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u043f\u0430\u0440\u043e\u043b\u044f"}),Object(Ot.jsx)("form",{className:Sn.a.form,onSubmit:function(n){e(function(e,t){return function(){Me(e).then((function(e){return e.ok?e.json():Promise.reject("api err: ".concat(e.status))})).then((function(e){t.push({pathname:"/reset-password",state:{resetPassword:!0}})})).catch((function(e){console.log(e)}))}}(c,t)),n.preventDefault(),s()},noValidate:!0,children:Object(Ot.jsxs)("div",{className:Sn.a.input_container,children:[Object(Ot.jsx)(jt.Input,{onChange:function(e){var t=e.target,n=t.name,a="checkbox"===t.type?e.target.checked:e.target.value;i((function(e){return Object(_.a)(Object(_.a)({},e),{},Object(jn.a)({},n,a))}))},value:c.email,name:"email",size:"default",placeholder:"\u0423\u043a\u0430\u0436\u0438\u0442\u0435 e-mail"}),Object(Ot.jsx)("div",{className:Sn.a.button_container,children:Object(Ot.jsx)(jt.Button,{type:"primary",size:"medium",children:"\u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c"})})]})}),Object(Ot.jsxs)("div",{className:Sn.a.link_container,children:[Object(Ot.jsx)("p",{className:"".concat(Sn.a.text," text text_type_main-default text_color_inactive"),children:"\u0412\u0441\u043f\u043e\u043c\u043d\u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c?"}),Object(Ot.jsx)(o.b,{to:"/login",className:"".concat(Sn.a.link," text text_type_main-default"),children:"\u0412\u043e\u0439\u0442\u0438"})]})]})},kn=n(35),Rn=n.n(kn),Dn=function(){var e,t=ot(),n=Object(dt.g)(),a=Object(dt.h)(),c=Object(r.useState)(fn),i=Object(gt.a)(c,2),s=i[0],l=i[1],d=function(e){var t=e.target,n=t.name,a="checkbox"===t.type?e.target.checked:e.target.value;l((function(e){return Object(_.a)(Object(_.a)({},e),{},Object(jn.a)({},n,a))}))},u=function(){l(fn)};return"PUSH"===n.action&&(null===(e=a.state)||void 0===e?void 0:e.resetPassword)?Object(Ot.jsxs)("div",{className:Rn.a.login,children:[Object(Ot.jsx)("h3",{className:"".concat(Rn.a.title," text text_type_main-medium"),children:"\u0412\u043e\u0441\u0441\u0442\u0430\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 \u043f\u0430\u0440\u043e\u043b\u044f"}),Object(Ot.jsx)("form",{className:Rn.a.form,onSubmit:function(e){console.log("onSubmit Login"),console.log(s),t(function(e,t){return function(){ze(e).then((function(e){return e.ok?e.json():Promise.reject("api err: ".concat(e.status))})).then((function(e){console.log(e),t.push({pathname:"/login",state:{resetPassword:!0}})})).catch((function(e){console.log(e)}))}}(s,n)),e.preventDefault(),u()},children:Object(Ot.jsxs)("div",{className:Rn.a.input_container,children:[Object(Ot.jsx)(jt.PasswordInput,{onChange:d,value:s.password,name:"password",size:"default"}),Object(Ot.jsx)(jt.Input,{onChange:d,value:s.token,name:"token",size:"default",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u0434 \u0438\u0437 \u043f\u0438\u0441\u044c\u043c\u0430"}),Object(Ot.jsx)("div",{className:Rn.a.button_container,children:Object(Ot.jsx)(jt.Button,{type:"primary",size:"medium",children:"\u0412\u043e\u0439\u0442\u0438"})})]})}),Object(Ot.jsxs)("div",{className:Rn.a.link_container,children:[Object(Ot.jsx)("p",{className:"".concat(Rn.a.text," text text_type_main-default text_color_inactive"),children:"\u0412\u0441\u043f\u043e\u043c\u043d\u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c?"}),Object(Ot.jsx)(o.b,{to:"/login",className:"".concat(Rn.a.link," text text_type_main-default"),children:"\u0412\u043e\u0439\u0442\u0438"})]})]}):Object(Ot.jsx)(dt.a,{to:"/login"})},Fn=n(68),An=["children"],Pn=function(e){var t=e.children,n=Object(Fn.a)(e,An),a=lt((function(e){return e.sign})).isAuthorized;return Object(Ot.jsx)(dt.b,Object(_.a)(Object(_.a)({},n),{},{render:function(e){var n=e.location;return a?t:Object(Ot.jsx)(dt.a,{to:{pathname:"/login",state:{from:n}}})}}))},Gn=["children"],Ln=function(e){var t=e.children,n=Object(Fn.a)(e,Gn),a=lt((function(e){return e.sign})).isAuthorized,r=Object(dt.h)();return Object(Ot.jsx)(dt.b,Object(_.a)(Object(_.a)({},n),{},{render:function(){var e,n;return a?Object(Ot.jsx)(dt.a,{to:{pathname:(null===(e=r.state)||void 0===e?void 0:e.from)?null===(n=r.state)||void 0===n?void 0:n.from.pathname:"/"}}):t}}))},Mn=n(127),zn=n.n(Mn),Un=function(){var e=ot(),t=lt((function(e){return e.wsSign})),n=t.wsConnected,a=t.data.orders;return Object(r.useEffect)((function(){return e({type:Z}),function(){e({type:ae})}}),[e]),n?(null===a||void 0===a?void 0:a.length)?Object(Ot.jsx)("div",{className:zn.a.order_list,children:null===a||void 0===a?void 0:a.map((function(e){var t;return(null===(t=e.ingredients)||void 0===t?void 0:t.length)&&Object(Ot.jsx)(Qn,{order:e},e._id)}))}):Object(Ot.jsx)("h4",{className:"text text_type_main-medium mt-4 mb-8",children:"\u0412\u0430\u0448\u0438\u0445 \u0437\u0430\u043a\u0430\u0437\u043e\u0432 \u043f\u043e\u043a\u0430 \u043d\u0435\u0442..."}):Object(Ot.jsx)("h4",{className:"text text_type_main-medium mt-4 mb-8",children:"\u0421\u043e\u0435\u0434\u0438\u043d\u044f\u0435\u043c\u0441\u044f \u0441 \u0441\u0435\u0440\u0432\u0435\u0440\u043e\u043c, \u043e\u0436\u0438\u0434\u0430\u0439\u0442\u0435..."})},Bn=n(39),Wn=n.n(Bn),Hn=function(){return Object(Ot.jsxs)("nav",{className:Wn.a.nav__list,children:[Object(Ot.jsx)(o.c,{to:"/profile",exact:!0,className:"".concat(Wn.a.menu_link," text text_type_main-medium "),activeClassName:Wn.a.menu_link_active,children:"\u041f\u0440\u043e\u0444\u0438\u043b\u044c"}),Object(Ot.jsx)(o.c,{to:"/profile/orders",className:"".concat(Wn.a.menu_link," text text_type_main-medium "),activeClassName:Wn.a.menu_link_active,children:"\u0418\u0441\u0442\u043e\u0440\u0438\u044f \u0437\u0430\u043a\u0430\u0437\u043e\u0432"}),Object(Ot.jsx)(o.c,{to:"/profile/logout",className:"".concat(Wn.a.menu_link," text text_type_main-medium "),activeClassName:Wn.a.menu_link_active,children:"\u0412\u044b\u0445\u043e\u0434"})]})},Jn=n(15),Yn=n.n(Jn),Vn=function(){var e=ot(),t=lt((function(e){return e.wsAll})),n=t.wsConnected,a=t.data;Object(r.useEffect)((function(){return e({type:Y}),function(){e({type:Q})}}),[e]);var c=a.orders,i=a.total,s=a.totalToday,o=Object(r.useMemo)((function(){return null===c||void 0===c?void 0:c.filter((function(e){return"done"===e.status}))}),[c]),l=Object(r.useMemo)((function(){return null===c||void 0===c?void 0:c.filter((function(e){return"pending"===e.status}))}),[c]);return n?(null===c||void 0===c?void 0:c.length)?Object(Ot.jsxs)(Ot.Fragment,{children:[Object(Ot.jsx)("h1",{className:"text text_type_main-large ".concat(Yn.a.header),children:"\u041b\u0435\u043d\u0442\u0430 \u0437\u0430\u043a\u0430\u0437\u043e\u0432"}),Object(Ot.jsxs)("div",{className:Yn.a.content_wrapper,children:[Object(Ot.jsx)("div",{className:Yn.a.order_list,children:c.map((function(e){var t;return(null===(t=e.ingredients)||void 0===t?void 0:t.length)&&Object(Ot.jsx)(Qn,{order:e},e._id)}))}),Object(Ot.jsxs)("div",{className:Yn.a.info_wrapper,children:[Object(Ot.jsxs)("div",{className:Yn.a.info_table,children:[Object(Ot.jsxs)("div",{className:Yn.a.done,children:[Object(Ot.jsx)("h2",{className:"text text_type_main-medium",children:"\u0413\u043e\u0442\u043e\u0432\u044b:"}),Object(Ot.jsx)("ul",{className:Yn.a.list,children:o.map((function(e){return Object(Ot.jsx)("li",{className:"text text_type_digits-default ".concat(Yn.a.list_item," ").concat(Yn.a.list_item_done),children:e.number},e._id)}))})]}),Object(Ot.jsxs)("div",{className:Yn.a.progress,children:[Object(Ot.jsx)("h2",{className:"text text_type_main-medium",children:"\u0412 \u0440\u0430\u0431\u043e\u0442\u0435:"}),Object(Ot.jsx)("ul",{className:Yn.a.list,children:l.map((function(e){return Object(Ot.jsx)("li",{className:"text text_type_digits-default ".concat(Yn.a.list_item),children:e.number},e._id)}))})]})]}),Object(Ot.jsxs)("div",{className:Yn.a.total_count,children:[Object(Ot.jsx)("h2",{className:"text text_type_main-medium",children:"\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u043e \u0437\u0430 \u0432\u0441\u0435 \u0432\u0440\u0435\u043c\u044f:"}),Object(Ot.jsx)("p",{className:"text text_type_digits-large ".concat(Yn.a.count),children:i})]}),Object(Ot.jsxs)("div",{className:Yn.a.today_count,children:[Object(Ot.jsx)("h2",{className:"text text_type_main-medium",children:"\u0412\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u043e \u0437\u0430 \u0441\u0435\u0433\u043e\u0434\u043d\u044f:"}),Object(Ot.jsx)("p",{className:"text text_type_digits-large ".concat(Yn.a.count),children:s})]})]})]})]}):Object(Ot.jsx)("h4",{className:"text text_type_main-medium mt-4 mb-8",children:"\u041d\u0430 \u043a\u0443\u0445\u043d\u0435 \u0437\u0430\u043a\u0430\u0437\u043e\u0432 \u043f\u043e\u043a\u0430 \u043d\u0435\u0442..."}):Object(Ot.jsx)("h4",{className:"text text_type_main-medium mt-4 mb-8",children:"\u0421\u043e\u0435\u0434\u0438\u043d\u044f\u0435\u043c\u0441\u044f \u0441 \u043a\u0443\u0445\u043d\u0435\u0439, \u043e\u0436\u0438\u0434\u0430\u0439\u0442\u0435..."})},Xn=n(229),qn=n(30),Kn=n.n(qn),Qn=function(e){var t=e.order,n=ot(),a=Object(dt.g)(),c=lt((function(e){return e.wsSign})).wsConnected,i=lt((function(e){return e.ingredients})).data,s=Object(r.useMemo)((function(){var e;return null===(e=t.ingredients)||void 0===e?void 0:e.map((function(e){return i.find((function(t){return t._id===e}))}))}),[t,i]),o=Object(r.useMemo)((function(){var e=[];return null===s||void 0===s||s.forEach((function(n){if(!e.find((function(e){return e._id==(null===n||void 0===n?void 0:n._id)}))){var a=(null===t||void 0===t?void 0:t.ingredients.filter((function(e){return e==n._id})).length)||0;e.push(Object(_.a)(Object(_.a)({},n),{},{count:a}))}})),e}),[t,s]),l=Object(r.useMemo)((function(){return o.reduce((function(e,t){return e+t.price*t.count}),0)}),[o]),d=new Date(t.createdAt);return Object(Ot.jsx)(Ot.Fragment,{children:Object(Ot.jsxs)("div",{className:Kn.a.order_item,onClick:function(){n(rt(Object(_.a)(Object(_.a)({},t),{},{groupedIngredients:o,ingredientsWDetails:s,orderTotalPrice:l}))),a.replace("".concat(c?"/profile/orders":"/feed","/").concat(t._id,"/").concat(t.number),{background:!0})},children:[Object(Ot.jsxs)("div",{className:Kn.a.order_info,children:[Object(Ot.jsxs)("p",{className:"text text_type_digits-default ".concat(Kn.a.order_number),children:["#",t.number]}),Object(Ot.jsx)("p",{className:"text text_type_main-default text_color_inactive",children:"".concat(cn(d),", ").concat(Object(Xn.a)(d,"HH:mm 'i-'z"))})]}),Object(Ot.jsx)("h2",{className:"text text_type_main-medium",children:t.name}),c&&Object(Ot.jsx)("p",{className:"text text_type_main-default ".concat("done"===t.status?Kn.a.done:""),children:ge[t.status]}),Object(Ot.jsxs)("div",{className:Kn.a.ingredients_info,children:[Object(Ot.jsx)("div",{className:Kn.a.ingredients_list,children:o.map((function(e,t){return Object(Ot.jsx)("div",{className:Kn.a.ingredient_wrapper,style:{zIndex:o.length-t},children:Object(Ot.jsxs)("div",{className:Kn.a.ingredient,children:[Object(Ot.jsx)("img",{src:e.image_mobile,width:"64"}),e.count>1&&Object(Ot.jsx)("div",{className:Kn.a.count_wrapper,children:Object(Ot.jsx)("p",{className:"text text_type_main-default",children:"+".concat(e.count-1)})})]})},t)}))}),Object(Ot.jsxs)("div",{className:Kn.a.ingredients_price,children:[Object(Ot.jsx)("p",{className:"text text_type_digits-default",children:l}),Object(Ot.jsx)(jt.CurrencyIcon,{type:"primary"})]})]})]})})},Zn=n(22),$n=n.n(Zn),ea=function(){var e,t=lt((function(e){return e.viewedOrder})).data,n=t.createdAt?new Date(t.createdAt):new Date;return Object(Ot.jsxs)(Ot.Fragment,{children:[Object(Ot.jsxs)("h2",{className:"text text_type_digits-default ".concat($n.a.header),children:["#",t.number]}),Object(Ot.jsxs)("div",{className:$n.a.card_details_wrapper,children:[Object(Ot.jsx)("h2",{className:"text text_type_main-medium",children:t.name}),Object(Ot.jsx)("p",{className:"text text_type_main-default ".concat($n.a.status," ").concat("done"===t.status?$n.a.done:""),children:ge[t.status]}),Object(Ot.jsx)("h2",{className:"text text_type_main-medium",children:"\u0421\u043e\u0441\u0442\u0430\u0432:"}),Object(Ot.jsx)("div",{className:$n.a.ingredients_list,children:null===(e=t.groupedIngredients)||void 0===e?void 0:e.map((function(e,n){return Object(Ot.jsxs)("div",{className:$n.a.ingredient_wrapper,children:[Object(Ot.jsx)("div",{className:$n.a.img_wrapper,style:{zIndex:t.groupedIngredients.length-n},children:Object(Ot.jsx)("div",{className:$n.a.img,children:Object(Ot.jsx)("img",{src:e.image_mobile,width:"64"})})}),Object(Ot.jsx)("p",{className:"text text_type_main-default ".concat($n.a.name),children:e.name}),Object(Ot.jsxs)("div",{className:$n.a.ingredient_cost,children:[Object(Ot.jsx)("p",{className:"text text_type_digits-default",children:"".concat(e.count,"x").concat(e.price)}),Object(Ot.jsx)(jt.CurrencyIcon,{type:"primary"})]})]},n)}))}),Object(Ot.jsxs)("div",{className:$n.a.ingredients_footer,children:[Object(Ot.jsx)("p",{className:"text text_type_main-default text_color_inactive",children:"".concat(cn(n),", ").concat(Object(Xn.a)(n,"HH:mm 'i-'z"))}),Object(Ot.jsxs)("div",{className:$n.a.ingredient_cost,children:[Object(Ot.jsx)("p",{className:"text text_type_digits-default",children:t.orderTotalPrice}),Object(Ot.jsx)(jt.CurrencyIcon,{type:"primary"})]})]})]})]})},ta=n(228),na=n(134),aa=n(96),ra=n.n(aa),ca=function(){var e=ot(),t=lt((function(e){return e.ingredients})),n=lt((function(e){return e.cart})),a=Object(r.useState)(!1),c=Object(gt.a)(a,2),i=c[0],s=c[1],o=Object(r.useState)(!1),l=Object(gt.a)(o,2),d=l[0],u=l[1],_=Object(r.useState)(!1),j=Object(gt.a)(_,2),m=j[0],p=j[1],b=Object(dt.h)(),O=Object(dt.g)(),f=lt((function(e){return e.sign})).isAuthorized,h=function(){i&&s(!1),m&&e({type:v}),m&&p(!1),d&&u(!1)},x=Object(dt.j)("/ingredients/:id");return"POP"===O.action&&x&&x.isExact?Object(Ot.jsx)(dt.d,{children:Object(Ot.jsx)(dt.b,{path:"/ingredients/:id",children:Object(Ot.jsx)(wa,{})})}):Object(Ot.jsxs)("div",{className:ra.a.wrapper,children:[t.data&&t.data.length&&Object(Ot.jsx)(ta.a,{backend:na.a,children:Object(Ot.jsxs)("main",{className:ra.a.main,children:[Object(Ot.jsx)(Bt,{openModal:function(){p(!0)}}),n.data.length&&Object(Ot.jsx)(Ft,{openModal:function(){if(f)if(n.sortedData.fillers.length&&Object.keys(n.sortedData.bun).length){var t=n.sortedData.fillers.map((function(e){return e._id}));e(Xe(t)),s(!0)}else e({type:R,payload:"\u041f\u0443\u0441\u0442\u043e\u0439 \u0437\u0430\u043a\u0430\u0437"}),u(!0);else O.push("/login",{from:b})}})]})}),i&&Object(Ot.jsx)(en,{modalTitle:null,closeModal:h,children:Object(Ot.jsx)(dn,{})}),d&&Object(Ot.jsx)(en,{modalTitle:null,closeModal:h,children:Object(Ot.jsx)(_n,{})}),m&&Object(Ot.jsx)(en,{modalTitle:"\u0414\u0435\u0442\u0430\u043b\u0438 \u0438\u043d\u0433\u0440\u0435\u0434\u0438\u0435\u043d\u0442\u0430",closeModal:h,children:Object(Ot.jsx)(Xt,{})})]})},ia=n(128),sa=n.n(ia),oa=function(){return Object(Ot.jsx)("div",{className:sa.a.wrapper,children:Object(Ot.jsx)(gn,{})})},la=n(55),da=n.n(la),ua=function(){var e=ot(),t=Object(dt.g)(),n=Object(dt.h)(),a=lt((function(e){return e.sign})).isAuthorized,c=Object(r.useState)(Se),i=Object(gt.a)(c,2),s=i[0],o=i[1];return Object(r.useEffect)((function(){e(at())}),[]),Object(r.useEffect)((function(){if("/profile/logout"===n.pathname){var a=localStorage.getItem(Ne);a&&(e(nt(a)),t.push("/login"))}else"/profile/orders"===n.pathname?o(Te):"/profile"===n.pathname&&o(Se)}),[n]),a?Object(Ot.jsx)("div",{className:da.a.wrapper,children:Object(Ot.jsxs)("div",{className:da.a.profile,children:[Object(Ot.jsxs)("div",{className:da.a.nav_container,children:[Object(Ot.jsx)(Hn,{}),Object(Ot.jsx)("p",{className:"".concat(da.a.nav__text," text text_type_main-default text_color_inactive"),children:s})]}),Object(Ot.jsxs)(dt.d,{children:[Object(Ot.jsx)(dt.b,{path:"/profile/orders",children:Object(Ot.jsx)(Un,{})}),Object(Ot.jsx)(dt.b,{path:"/profile",children:Object(Ot.jsx)(Cn,{})})]})]})}):null},_a=n(129),ja=n.n(_a),ma=function(){return Object(Ot.jsx)("div",{className:ja.a.wrapper,children:Object(Ot.jsx)(Nn,{})})},pa=n(130),ba=n.n(pa),Oa=function(){return Object(Ot.jsx)("div",{className:ba.a.wrapper,children:Object(Ot.jsx)(Tn,{})})},fa=n(131),ha=n.n(fa),xa=function(){return Object(Ot.jsx)("div",{className:ha.a.wrapper,children:Object(Ot.jsx)(Dn,{})})},ga=n(56),va=n.n(ga),ya=function(){var e=Object(dt.h)().pathname;return Object(Ot.jsx)("div",{className:va.a.wrapper,children:Object(Ot.jsx)("div",{className:va.a.container,children:Object(Ot.jsxs)("div",{className:va.a.content,children:[Object(Ot.jsx)("h1",{children:"Oops! 404 Error"}),Object(Ot.jsx)("h6",{children:e}),Object(Ot.jsx)("p",{children:"The page you requested does not exist"}),Object(Ot.jsx)("br",{}),Object(Ot.jsx)("br",{}),Object(Ot.jsxs)("p",{children:["check the address or try ",Object(Ot.jsx)(o.b,{to:"/",className:va.a.link,children:"homepage"})]})]})})})},Na=n(98),Ea=n.n(Na),wa=function(){return Object(Ot.jsxs)("div",{className:Ea.a.wrapper,children:[Object(Ot.jsx)("h1",{className:Ea.a.title,children:"\u0414\u0435\u0442\u0430\u043b\u0438 \u0438\u043d\u0433\u0440\u0435\u0434\u0438\u0435\u043d\u0442\u0430"}),Object(Ot.jsx)(Xt,{})]})},Ca=(n(132),n(133)),Ia=n.n(Ca),Sa=function(){return Object(Ot.jsx)("div",{className:Ia.a.wrapper,children:Object(Ot.jsx)(Vn,{})})},Ta=n(57),ka=n.n(Ta),Ra=function(){var e=Object(dt.i)(),t=e.id,n=e.number,a=ot(),c=lt((function(e){return e.ingredients})).data,i=lt((function(e){return e.viewedOrder})),s=i.isLoaded,o=i.isFetching,l=i.data;Object(r.useEffect)((function(){a(ct(n))}),[a]);var d=Object(r.useMemo)((function(){var e;return null===l||void 0===l||null===(e=l.ingredients)||void 0===e?void 0:e.map((function(e){return c.find((function(t){return t._id===e}))}))}),[l,c]),u=Object(r.useMemo)((function(){var e=[];return(null===d||void 0===d?void 0:d.length)&&d.forEach((function(t){if(!e.find((function(e){return e._id===(null===t||void 0===t?void 0:t._id)}))){var n,a=(null===(n=l.ingredients)||void 0===n?void 0:n.filter((function(e){return e===(null===t||void 0===t?void 0:t._id)})).length)||0;e.push(Object(_.a)(Object(_.a)({},t),{},{count:a}))}})),e}),[l,d]),j=Object(r.useMemo)((function(){return u.reduce((function(e,t){return e+t.price*t.count}),0)}),[u]);return!s&&(null===l||void 0===l?void 0:l._id)===t&&j&&a(rt(Object(_.a)(Object(_.a)({},l),{},{groupedIngredients:u,ingredientsWDetails:d,orderTotalPrice:j}))),o?Object(Ot.jsx)("h4",{className:"text text_type_main-medium mt-4 mb-8 ".concat(ka.a.wrapper),children:"\u0421\u043e\u0435\u0434\u0438\u043d\u044f\u0435\u043c\u0441\u044f \u0441 \u043a\u0443\u0445\u043d\u0435\u0439, \u043e\u0436\u0438\u0434\u0430\u0439\u0442\u0435..."}):s&&!l?Object(Ot.jsx)("h4",{className:"text text_type_main-medium mt-4 mb-8 ".concat(ka.a.wrapper),children:"\u0414\u0430\u043d\u043d\u044b\u0445 \u043e \u0437\u0430\u043a\u0430\u0437\u0435 \u043f\u043e\u043a\u0430 \u043d\u0435\u0442. \u0418\u0434\u0435\u0442 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0430, \u043e\u0436\u0438\u0434\u0430\u0439\u0442\u0435..."}):(null===l||void 0===l?void 0:l._id)===t&&j?Object(Ot.jsx)("div",{className:ka.a.wrapper,children:Object(Ot.jsx)(ea,{})}):Object(Ot.jsx)("h4",{className:"text text_type_main-medium mt-4 mb-8 ".concat(ka.a.wrapper),children:"\u0418\u0449\u0435\u043c \u0437\u0430\u043a\u0430\u0437, \u043e\u0436\u0438\u0434\u0430\u0439\u0442\u0435..."})},Da=n(99),Fa=n.n(Da),Aa=function(){var e=ot();return Object(r.useEffect)((function(){e(at())}),[e]),Object(r.useEffect)((function(){e(We())}),[e]),Object(Ot.jsxs)("div",{className:Fa.a.wrapper,children:[Object(Ot.jsx)("header",{className:Fa.a.nav_panel,children:Object(Ot.jsx)(xt,{})}),Object(Ot.jsxs)(dt.d,{children:[Object(Ot.jsx)(dt.b,{exact:!0,path:"/",children:Object(Ot.jsx)(ca,{})}),Object(Ot.jsx)(dt.b,{path:"/feed/:id/:number",children:Object(Ot.jsx)(Ra,{})}),Object(Ot.jsx)(dt.b,{path:"/feed/:id",children:Object(Ot.jsx)(Ra,{})}),Object(Ot.jsx)(dt.b,{exact:!0,path:"/feed",children:Object(Ot.jsx)(Sa,{})}),Object(Ot.jsx)(Ln,{path:"/login",children:Object(Ot.jsx)(oa,{})}),Object(Ot.jsx)(Ln,{path:"/register",children:Object(Ot.jsx)(ma,{})}),Object(Ot.jsx)(Ln,{path:"/forgot-password",children:Object(Ot.jsx)(Oa,{})}),Object(Ot.jsx)(Ln,{path:"/reset-password",children:Object(Ot.jsx)(xa,{})}),Object(Ot.jsx)(Pn,{path:"/profile/orders/:id/:number",exact:!0,children:Object(Ot.jsx)(Ra,{})}),Object(Ot.jsx)(Pn,{path:"/profile/orders/:id",exact:!0,children:Object(Ot.jsx)(Ra,{})}),Object(Ot.jsx)(Pn,{path:"/profile",children:Object(Ot.jsx)(ua,{})}),Object(Ot.jsx)(dt.b,{path:"/ingredients/:id",children:Object(Ot.jsx)(ca,{})}),Object(Ot.jsx)(dt.b,{children:Object(Ot.jsx)(ya,{})})]})]})},Pa=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,234)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),a(e),r(e),c(e),i(e)}))};s.a.render(Object(Ot.jsx)(c.a.StrictMode,{children:Object(Ot.jsx)(l.a,{store:st,children:Object(Ot.jsx)(o.a,{children:Object(Ot.jsx)(Aa,{})})})}),document.getElementById("root")),Pa()},28:function(e,t,n){e.exports={login:"Login_login__2ooj1",input_container:"Login_input_container__1XMgP",title:"Login_title__2kq3k",form:"Login_form__30fxV",button_container:"Login_button_container__3k0H7",link_container:"Login_link_container__3neEr",text:"Login_text__2txu3",link:"Login_link__2vIYT",error_active:"Login_error_active__1lt62"}},30:function(e,t,n){e.exports={order_item:"OrdersCard_order_item__21Wj1",order_number:"OrdersCard_order_number__PqkUF",order_info:"OrdersCard_order_info__1EL-r",done:"OrdersCard_done__3j-0T",ingredients_info:"OrdersCard_ingredients_info__uUJMJ",ingredients_price:"OrdersCard_ingredients_price__2JtXE",ingredients_list:"OrdersCard_ingredients_list__1mA7d",ingredient_wrapper:"OrdersCard_ingredient_wrapper__1fNaW",ingredient:"OrdersCard_ingredient__36cXD",count_wrapper:"OrdersCard_count_wrapper__3z4-M"}},33:function(e,t,n){e.exports={login:"Register_login__jMdqL",input_container:"Register_input_container__FgVpc",title:"Register_title__46PPV",form:"Register_form__3chbh",button_container:"Register_button_container__1wjyw",link_container:"Register_link_container__2mKJt",text:"Register_text__28quU",link:"Register_link__2TvYO",error_active:"Register_error_active__Y4X4m"}},34:function(e,t,n){e.exports={login:"ForgotPassword_login__1moRV",input_container:"ForgotPassword_input_container__3dK5r",title:"ForgotPassword_title__23MOG",form:"ForgotPassword_form__3HGBJ",button_container:"ForgotPassword_button_container__YXKX_",link_container:"ForgotPassword_link_container__2dJTX",text:"ForgotPassword_text__3HmuG",link:"ForgotPassword_link__bpU_A",error_active:"ForgotPassword_error_active__33raY"}},35:function(e,t,n){e.exports={login:"ResetPassword_login__2kc5A",input_container:"ResetPassword_input_container__1fFEd",title:"ResetPassword_title__1Y9G7",form:"ResetPassword_form__2XYFq",button_container:"ResetPassword_button_container__tXj7l",link_container:"ResetPassword_link_container__3_5_s",text:"ResetPassword_text__2_R2T",link:"ResetPassword_link__1fHut",error_active:"ResetPassword_error_active__1ESfz"}},39:function(e,t,n){e.exports={menu_link:"ProfileNav_menu_link__2oynG",menu_link_active:"ProfileNav_menu_link_active__2G4RY",nav_list:"ProfileNav_nav_list__3BH3i"}},52:function(e,t,n){e.exports={container:"AppHeader_container__1zozY",menu:"AppHeader_menu__2gG-w",menu_right:"AppHeader_menu_right__2PeGu",menu_link:"AppHeader_menu_link__SFTtu",logo:"AppHeader_logo__3Ulhf"}},53:function(e,t,n){e.exports={container:"BurgerConstructor_container__1YqRO",scroll_list:"BurgerConstructor_scroll_list__pMjuN",item_list:"BurgerConstructor_item_list__2wcKU",checkout_container:"BurgerConstructor_checkout_container__36wt_"}},54:function(e,t,n){e.exports={item:"IngredientItem_item__3nJUh",item_image:"IngredientItem_item_image__3Nj3G",item_description:"IngredientItem_item_description__2xIUD",item_name:"IngredientItem_item_name__roSwo"}},55:function(e,t,n){e.exports={profile:"Profile_profile__1xaAj",nav_container:"Profile_nav_container__27KjW",nav__text:"Profile_nav__text__24YxL"}},56:function(e,t,n){e.exports={wrapper:"NotFound_wrapper__qmJen",container:"NotFound_container__2kNbu",content:"NotFound_content__2j7BC",link:"NotFound_link__2fJR2"}},57:function(e,t,n){e.exports={wrapper:"OrdersCardDetails_wrapper__2vbls"}},89:function(e,t,n){e.exports={menu_link:"MenuItem_menu_link__1A0pR",menu_link_active:"MenuItem_menu_link_active__3bO9_"}},91:function(e,t,n){e.exports={item:"ConstructorItemSwap_item__5yYAx",item_elem:"ConstructorItemSwap_item_elem__1DAhb",drag_icon:"ConstructorItemSwap_drag_icon__1X0nX"}},93:function(e,t,n){e.exports={container:"IngredientDetails_container__3Ddsn",details_list:"IngredientDetails_details_list__239YK",details_list_item:"IngredientDetails_details_list_item__3j83Z"}},94:function(e,t,n){e.exports={modal:"Modal_modal__3PRq6",header:"Modal_header__HwDl-"}},95:function(e,t,n){e.exports={profile:"Profile_profile__2B6xb",nav_container:"Profile_nav_container__3aI_l",nav__text:"Profile_nav__text__1xuOT",form:"Profile_form__38iM1",button_container:"Profile_button_container__FsveU",error:"Profile_error___eM-w",error_active:"Profile_error_active__337cO"}},96:function(e,t,n){e.exports={wrapper:"Home_wrapper__3e0MA",nav_panel:"Home_nav_panel__2U_tb",main:"Home_main__2CCVE"}},98:function(e,t,n){e.exports={wrapper:"Ingredient_wrapper__2v9W7"}},99:function(e,t,n){e.exports={wrapper:"App_wrapper__3rTqQ",nav_panel:"App_nav_panel__mJ4OB",main:"App_main__1NLxf"}}},[[222,1,2]]]);
//# sourceMappingURL=main.d96f2eda.chunk.js.map